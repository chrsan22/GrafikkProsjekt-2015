<!DOCTYPE html>
<html lang="en">
<head>
    <title>Blabla</title>
    <meta charset="utf-8">
    <style>
        body {
            background:#000;
            color: #eee;
            padding:0;
            margin:0;
            font-weight:bold;
            overflow:hidden;

            font-family:Monospace;
            font-size:13px;
            text-align:center;
        }

        #info {
            position: absolute;
            top: 0px; width: 100%;
            padding: 5px;
            z-index:100;
        }

        a { color: #0080ff }
        b { color:orange }
    </style>

    <script src="scripts/three.min.js"></script>
    <script src="camera/FlyControls/FlyControls.js"></script>
    <script src="objects/createObject.js"></script>

</head>

<body>

<div id="info"><br/>
    <b>WASD</b> move, <b>SPACE|CTRL</b> up | down, <b>Q|E</b> roll, <b>up|down</b> pitch, <b>left|right</b> yaw, <b>P</b> pause<br/>
</div>

<script>

    var height = window.innerHeight;
    var width  = window.innerWidth;
    var aspect = width/height;

    var camera, controls, scene, renderer;
    var dirLight;

    var clock = new THREE.Clock();
    init();
    animate();

    function init() {

        // Camera
        camera = new THREE.PerspectiveCamera( 25, width / height, 50, 1e7 );
        camera.position.set(0,0,10000)

        // Scene
        scene = new THREE.Scene();

        // FlyControls
        controls = new THREE.FlyControls( camera );
        controls.movementSpeed = 10000; // WASD speed
        controls.rollSpeed = Math.PI / 24; // Rollspeed for Q and E roll

        // Lyset som gis
        dirLight = new THREE.DirectionalLight( 0xffffff );
        dirLight.position.set( -1, 0, 1 ).normalize();
        scene.add( dirLight );

        // Ground object
        var createObject = new CreateObject();
        var ground = createObject.planeGeometry("resources/texture_grass.jpg", 3000, 3000, 0, 0, 0, 0, false, true);
        scene.add(ground);
        rotateObject(ground, [-1.3,0.0,1.0]);

        // Renderer
        renderer = new THREE.WebGLRenderer();
        renderer.setPixelRatio( window.devicePixelRatio );
        renderer.setSize( width, height );
        document.body.appendChild( renderer.domElement );

        // Rotate object function
        function rotateObject(object, rotation) {
            object.rotation.x += rotation[0];
            object.rotation.y += rotation[1];
            object.rotation.z += rotation[2];
        }
        window.addEventListener( 'resize', onWindowResize, false );
    }

    // Resize window optimalization
    function onWindowResize( event ) {
        height = window.innerHeight;
        width  = window.innerWidth;
        renderer.setSize( width, height );
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
    }

    function animate() {
        requestAnimationFrame( animate );
        render();
    }

    function render() {
        var delta = clock.getDelta();
        controls.update( delta );
        renderer.render(scene,camera);
    }

</script>
</body>
</html>